# Render Blueprint – Norya web servisi
# Dashboard: https://dashboard.render.com → New → Blueprint → Bu repo'yu bağlayın
# Ortam değişkenlerini Dashboard > Environment içinde tanımlayın (OPENAI_API_KEY, SECRET_KEY, DATABASE_URL vb.)

services:
  - type: web
    name: norya
    runtime: python

    buildCommand: pip install --no-cache-dir -r requirements.txt
    startCommand: gunicorn app.main:app -w 2 -k uvicorn.workers.UvicornWorker -b 0.0.0.0:$PORT

    # Render otomatik PORT verir; 0.0.0.0 dinle
    envVars:
      - key: PYTHON_VERSION
        value: "3.12"

    # İsteğe bağlı: Render PostgreSQL eklediyseniz bağlayın
    # - key: DATABASE_URL
    #   fromDatabase:
    #     name: norya-db
    #     property: connectionString
